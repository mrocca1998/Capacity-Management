{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\mrocc\\\\cap-man\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\mrocc\\\\cap-man\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\mrocc\\\\cap-man\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\mrocc\\\\cap-man\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\mrocc\\\\cap-man\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\mrocc\\\\cap-man\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\mrocc\\\\cap-man\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\mrocc\\\\cap-man\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import*as React from\"react\";import AllocationForm from\"./AllocationList\";import EmployeeList from'./EmployeeList';var ProjectForm=/*#__PURE__*/function(_React$Component){_inherits(ProjectForm,_React$Component);var _super=_createSuper(ProjectForm);function ProjectForm(props){var _this;_classCallCheck(this,ProjectForm);_this=_super.call(this,props);_this.changeHandler=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state={id:'',title:'',startDate:'',endDate:'',totalPoints:'',baPoints:'',qaPoints:'',devPoints:'',isShowing:''};_this.formStyle={backgroundColor:'#d3e4ee',marginLeft:100,marginRight:100};_this.postProject=_this.postProject.bind(_assertThisInitialized(_this));_this.putProject=_this.putProject.bind(_assertThisInitialized(_this));_this.fillState=_this.fillState.bind(_assertThisInitialized(_this));return _this;}_createClass(ProjectForm,[{key:\"postProject\",value:function(){var _postProject=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();try{fetch('https://localhost:44391/api/projects',{method:'post',headers:{'Accept':'application/json','Content-type':'application/json'},body:JSON.stringify({title:this.state.title,startDate:this.state.startDate,endDate:this.state.endDate,totalPoints:this.state.totalPoints,baPoints:this.state.baPoints,qaPoints:this.state.qaPoints,devPoints:this.state.devPoints,isShowing:false})}).then(function(result){return result.json();}).then(function(json){if(json.length>0){alert(json);}_this2.props.refreshState();});//console.log('Result ' + result)\n}catch(e){console.log(e);}case 2:case\"end\":return _context.stop();}}},_callee,this);}));function postProject(_x){return _postProject.apply(this,arguments);}return postProject;}()},{key:\"putProject\",value:function(){var _putProject=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var _this3=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.prev=1;_context2.next=4;return fetch('https://localhost:44391/api/Projects/'+this.props.projectId,{method:'put',headers:{'Accept':'application/json','Content-type':'application/json'},body:JSON.stringify(this.state)}).then(function(result){return result.json();}).then(function(json){if(json.length>0){alert(json);}else{_this3.props.toggleEdit();}_this3.props.refreshState();});case 4:_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 9:this.props.refreshState();case 10:case\"end\":return _context2.stop();}}},_callee2,this,[[1,6]]);}));function putProject(_x2){return _putProject.apply(this,arguments);}return putProject;}()},{key:\"fillState\",value:function fillState(){var startDate=JSON.stringify(new Date(this.props.startDate)).slice(1,11);var endDate=null;if(this.props.endDate!=null){endDate=JSON.stringify(new Date(this.props.endDate)).slice(1,11);}this.setState({id:this.props.projectId,title:this.props.title,startDate:startDate,endDate:endDate,totalPoints:this.props.totalPoints,baPoints:this.props.baPoints,qaPoints:this.props.qaPoints,devPoints:this.props.devPoints,isShowing:this.props.isShowing});}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.isEditing){this.fillState();}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.props.isEditing?this.putProject:this.postProject//style={{backgroundColor: this.props.isEditing ? '#ddd3ee' :'#d3e4ee'}}\n,style:this.formStyle},/*#__PURE__*/React.createElement(\"label\",null,\"Project Title: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"title\",value:this.state.title,onChange:this.changeHandler,required:true,autoComplete:\"off\"}),/*#__PURE__*/React.createElement(\"label\",null,\" Start Date: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",name:\"startDate\",value:this.state.startDate,onChange:this.changeHandler,required:true}),/*#__PURE__*/React.createElement(\"label\",null,\" End Date: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",name:\"endDate\",value:this.state.endDate,onChange:this.changeHandler}),/*#__PURE__*/React.createElement(\"label\",null,\"Total Points: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"totalPoints\",value:this.state.totalPoints,onChange:this.changeHandler,required:true}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"BA Points: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"baPoints\",value:this.state.baPoints,onChange:this.changeHandler,required:true}),/*#__PURE__*/React.createElement(\"label\",null,\" QA Points: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"qaPoints\",value:this.state.qaPoints,onChange:this.changeHandler,required:true}),/*#__PURE__*/React.createElement(\"label\",null,\" Developer Points: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"devPoints\",value:this.state.devPoints,onChange:this.changeHandler,required:true}),this.props.isEditing?/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:this.props.toggleEdit},\"Cancel\"),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Confirm\")):/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Add Project\")));}}]);return ProjectForm;}(React.Component);var Project=/*#__PURE__*/function(_React$Component2){_inherits(Project,_React$Component2);var _super2=_createSuper(Project);function Project(props){var _this4;_classCallCheck(this,Project);_this4=_super2.call(this,props);_this4.state={isEditing:false};_this4.deleteProject=_this4.deleteProject.bind(_assertThisInitialized(_this4));_this4.toggleEdit=_this4.toggleEdit.bind(_assertThisInitialized(_this4));_this4.toggleShowing=_this4.toggleShowing.bind(_assertThisInitialized(_this4));return _this4;}_createClass(Project,[{key:\"toggleEdit\",value:function toggleEdit(){this.setState({isEditing:!this.state.isEditing});}},{key:\"deleteProject\",value:function(){var _deleteProject=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!window.confirm('Are you sure')){_context3.next=12;break;}_context3.prev=1;_context3.next=4;return fetch('https://localhost:44391/api/projects/'+this.props.id,{method:'delete',headers:{'Accept':'application/json','Content-type':'application/json'}});case 4:result=_context3.sent;console.log('Result '+result);_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);case 11:this.props.refreshState();case 12:case\"end\":return _context3.stop();}}},_callee3,this,[[1,8]]);}));function deleteProject(_x3){return _deleteProject.apply(this,arguments);}return deleteProject;}()},{key:\"toggleShowing\",value:function toggleShowing(){try{var result=fetch('https://localhost:44391/api/projects/'+this.props.id,{method:'put',headers:{'Accept':'application/json','Content-type':'application/json'},body:JSON.stringify({id:this.props.id,isShowing:!this.props.isShowing})});console.log('Result '+result);}catch(e){console.log(e);}this.props.refreshState();}},{key:\"render\",value:function render(){var project=this.props;if(this.state.isEditing){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ProjectForm,{refreshState:this.props.refreshState,isEditing:this.state.isEditing,toggleEdit:this.toggleEdit,projectId:this.props.id,title:this.props.title,startDate:this.props.startDate,endDate:this.props.endDate,totalPoints:this.props.totalPoints,baPoints:this.props.baPoints,qaPoints:this.props.qaPoints,devPoints:this.props.devPoints,isShowing:this.props.isShowing}),/*#__PURE__*/React.createElement(EmployeeList,{refreshState:this.props.refreshState,projectId:this.props.id,employees:this.props.employees,allocations:this.props.allocations}),/*#__PURE__*/React.createElement(AllocationForm,{refreshState:this.props.refreshState,projectId:project.id,employees:project.employees,allocations:project.allocationState}));}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'#ddd3ee'}},\"Project: \",project.title,\" Start Date: \",project.startDate.substring(5,7),\"/\",project.startDate.substring(8,10),\"/\",project.startDate.substring(0,4),\" \",project.endDate===null?/*#__PURE__*/React.createElement(\"span\",null):/*#__PURE__*/React.createElement(\"span\",null,\"End Date: \",project.endDate.substring(5,7),\"/\",project.endDate.substring(8,10),\"/\",project.endDate.substring(0,4),\" \"),\" Total Points: \",project.totalPoints,\" BA Points: \",project.baPoints,\" QA Points: \",project.qaPoints,\" Dev Points: \",project.devPoints,/*#__PURE__*/React.createElement(\"button\",{onClick:this.toggleEdit},\"Update\"),/*#__PURE__*/React.createElement(\"button\",{onClick:this.deleteProject},/*#__PURE__*/React.createElement(\"img\",{src:\"https://icon-library.com/images/delete-icon-png-16x16/delete-icon-png-16x16-21.jpg\",alt:\"my image\",width:\"12\",height:\"12\"}))),/*#__PURE__*/React.createElement(EmployeeList,{refreshState:this.props.refreshState,projectId:this.props.id,employees:this.props.employees,allocations:this.props.allocations,addAllocation:this.props.addAllocation}),/*#__PURE__*/React.createElement(AllocationForm,{refreshState:this.props.refreshState,projectId:project.id,employees:project.employees,allocations:project.allocationState,isEditing:false}));}}}]);return Project;}(React.Component);export{ProjectForm,Project};","map":{"version":3,"sources":["C:/Users/mrocc/cap-man/src/ProjectsList.js"],"names":["React","AllocationForm","EmployeeList","ProjectForm","props","changeHandler","event","setState","target","name","value","state","id","title","startDate","endDate","totalPoints","baPoints","qaPoints","devPoints","isShowing","formStyle","backgroundColor","marginLeft","marginRight","postProject","bind","putProject","fillState","preventDefault","fetch","method","headers","body","JSON","stringify","then","result","json","length","alert","refreshState","e","console","log","projectId","toggleEdit","Date","slice","isEditing","Component","Project","deleteProject","toggleShowing","window","confirm","project","employees","allocations","allocationState","substring","addAllocation"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport AllocationForm from \"./AllocationList\";\r\nimport EmployeeList from './EmployeeList'\r\n\r\nclass ProjectForm extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            id: '',\r\n            title : '',\r\n            startDate : '',\r\n            endDate : '',\r\n            totalPoints: '',\r\n            baPoints : '',\r\n            qaPoints : '',\r\n            devPoints : '',\r\n            isShowing: ''\r\n        }\r\n        this.formStyle = {\r\n            backgroundColor: '#d3e4ee',\r\n            marginLeft : 100,\r\n            marginRight : 100,\r\n        }\r\n        this.postProject = this.postProject.bind(this);\r\n        this.putProject = this.putProject.bind(this);\r\n        this.fillState = this.fillState.bind(this);\r\n    }\r\n\r\n    changeHandler = (event) => {\r\n        this.setState({[event.target.name]: event.target.value})\r\n    }\r\n    \r\n    async postProject(event) {\r\n        event.preventDefault();\r\n        try {\r\n            fetch('https://localhost:44391/api/projects', {\r\n                method: 'post',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-type':'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    title : this.state.title,\r\n                    startDate : this.state.startDate,\r\n                    endDate : this.state.endDate,\r\n                    totalPoints: this.state.totalPoints,\r\n                    baPoints : this.state.baPoints,\r\n                    qaPoints : this.state.qaPoints,\r\n                    devPoints : this.state.devPoints,\r\n                    isShowing: false\r\n                })\r\n            })\r\n            .then(result => result.json())\r\n            .then(json => {\r\n                if (json.length > 0) {\r\n                    alert(json);\r\n                }  \r\n                this.props.refreshState();     \r\n            })\r\n            //console.log('Result ' + result)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n        \r\n    }\r\n\r\n    async putProject(event) {\r\n        event.preventDefault();\r\n        try {\r\n            await fetch('https://localhost:44391/api/Projects/' + this.props.projectId, {\r\n                method: 'put',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-type':'application/json',\r\n                },\r\n                body: JSON.stringify(this.state)\r\n            })\r\n            .then(result => result.json())\r\n            .then(json => {\r\n                if (json.length > 0) {\r\n                    alert(json);\r\n                }\r\n                else {\r\n                    this.props.toggleEdit();\r\n                }\r\n                this.props.refreshState();     \r\n            })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n        \r\n\r\n        this.props.refreshState();\r\n    }\r\n\r\n    fillState() {\r\n        var startDate = JSON.stringify(new Date(this.props.startDate)).slice(1,11);\r\n        var endDate = null;\r\n        if (this.props.endDate != null) {\r\n            endDate = JSON.stringify(new Date(this.props.endDate)).slice(1,11);\r\n        }\r\n        this.setState({\r\n            id: this.props.projectId,\r\n            title : this.props.title,\r\n            startDate : startDate,\r\n            endDate : endDate,\r\n            totalPoints: this.props.totalPoints,\r\n            baPoints : this.props.baPoints,\r\n            qaPoints : this.props.qaPoints,\r\n            devPoints : this.props.devPoints,\r\n            isShowing: this.props.isShowing\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.isEditing) {\r\n            this.fillState();\r\n        }\r\n    };\r\n\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n\t        \r\n            {/* Form */}\r\n            <form \r\n                onSubmit={this.props.isEditing ? this.putProject : this.postProject} \r\n                //style={{backgroundColor: this.props.isEditing ? '#ddd3ee' :'#d3e4ee'}}\r\n                style = {this.formStyle}\r\n            >\r\n                            \r\n            <label>Project Title: </label>\r\n            <input \r\n            type=\"text\"\r\n            name = 'title'\r\n            value = {this.state.title}\r\n            onChange = {this.changeHandler}\r\n            required \r\n            autoComplete=\"off\"\r\n            />\r\n            \r\n            {/* Dates */}\r\n            <label> Start Date: </label>\r\n            <input \r\n            type=\"date\"\r\n            name = 'startDate'\r\n            value = {this.state.startDate}\r\n            onChange = {this.changeHandler}\r\n            required \r\n            />\r\n            <label> End Date: </label>\r\n            <input \r\n            type=\"date\"\r\n            name = 'endDate'\r\n            value = {this.state.endDate}\r\n            onChange = {this.changeHandler}\r\n            />\r\n\r\n            \r\n            {/* Points */}\r\n            <label>Total Points: </label>\r\n            <input \r\n            type=\"number\"\r\n            name = 'totalPoints'\r\n            value = {this.state.totalPoints}\r\n            onChange = {this.changeHandler}\r\n            required \r\n            />\r\n            <br /><label>BA Points: </label>\r\n            <input \r\n            type=\"number\"\r\n            name = 'baPoints'\r\n            value = {this.state.baPoints}\r\n            onChange = {this.changeHandler}\r\n            required \r\n            />\r\n            <label> QA Points: </label>\r\n            <input \r\n            type=\"number\"\r\n            name = 'qaPoints'\r\n            value = {this.state.qaPoints}\r\n            onChange = {this.changeHandler}\r\n            required \r\n            />\r\n            <label > Developer Points: </label>\r\n            <input \r\n            type=\"number\"\r\n            name = 'devPoints'\r\n            value = {this.state.devPoints}\r\n            onChange = {this.changeHandler}\r\n            required \r\n            />\r\n            \r\n            {this.props.isEditing ? <span><button onClick = {this.props.toggleEdit}>Cancel</button><button type = 'submit'>Confirm</button></span> : <button type = 'submit'>Add Project</button>}\r\n            </form>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass Project extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            isEditing: false\r\n        }\r\n        this.deleteProject = this.deleteProject.bind(this);\r\n        this.toggleEdit = this.toggleEdit.bind(this);\r\n        this.toggleShowing = this.toggleShowing.bind(this);\r\n    }\r\n\r\n    toggleEdit() {\r\n        this.setState ({\r\n            isEditing: !this.state.isEditing\r\n        })\r\n    }\r\n\r\n    async deleteProject(id) {\r\n        if(window.confirm('Are you sure')) {\r\n            \r\n            try { \r\n                const result = await fetch('https://localhost:44391/api/projects/' + this.props.id, {\r\n                    method: 'delete',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-type':'application/json',\r\n                    }\r\n                })\r\n    \r\n                console.log('Result ' + result)\r\n            } catch (e) {\r\n                console.log(e)\r\n            }\r\n            this.props.refreshState();\r\n        }\r\n    }\r\n\r\n    toggleShowing() {\r\n        try {\r\n            const result = fetch('https://localhost:44391/api/projects/' + this.props.id, {\r\n                method: 'put',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-type':'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    id: this.props.id,\r\n                    isShowing: !this.props.isShowing\r\n               })\r\n            });\r\n\r\n            console.log('Result ' + result)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n        this.props.refreshState();\r\n    }\r\n\trender() {\r\n    const project = this.props;\r\n\r\n    if (this.state.isEditing) {\r\n        return (\r\n            <div>\r\n                <ProjectForm \r\n                    refreshState = {this.props.refreshState}\r\n                    isEditing = {this.state.isEditing} \r\n                    toggleEdit = {this.toggleEdit}\r\n                    projectId = {this.props.id}\r\n                    title = {this.props.title}\r\n                    startDate = {this.props.startDate}\r\n                    endDate = {this.props.endDate}\r\n                    totalPoints = {this.props.totalPoints}\r\n                    baPoints = {this.props.baPoints}\r\n                    qaPoints = {this.props.qaPoints}\r\n                    devPoints = {this.props.devPoints}\r\n                    isShowing = {this.props.isShowing}\r\n                />\r\n                <EmployeeList refreshState = {this.props.refreshState} projectId = {this.props.id} employees = {this.props.employees} allocations = {this.props.allocations} />               \r\n                <AllocationForm \r\n                    refreshState = {this.props.refreshState}\r\n                    projectId = {project.id} \r\n                    employees = {project.employees} \r\n                    allocations = {project.allocationState}\r\n                />\r\n            </div>\r\n        )\r\n    }  else {\r\n        return (\r\n            <div>\r\n                <div style = {{backgroundColor : '#ddd3ee'}}>Project: {project.title} Start Date: {project.startDate.substring(5,7)}/{project.startDate.substring(8,10)}/{project.startDate.substring(0,4)} {project.endDate === null ? <span/> : <span>End Date: {project.endDate.substring(5,7)}/{project.endDate.substring(8,10)}/{project.endDate.substring(0,4)} </span>} Total Points: {project.totalPoints} BA Points: {project.baPoints} QA Points: {project.qaPoints} Dev Points: {project.devPoints}\r\n                <button onClick = {this.toggleEdit}>Update</button>\r\n                <button onClick={this.deleteProject}><img src=\"https://icon-library.com/images/delete-icon-png-16x16/delete-icon-png-16x16-21.jpg\" alt=\"my image\" width=\"12\" height=\"12\"/></button>\r\n                </div>\r\n                <EmployeeList refreshState = {this.props.refreshState} projectId = {this.props.id} employees = {this.props.employees} allocations = {this.props.allocations} addAllocation = {this.props.addAllocation}/>\r\n                <AllocationForm\r\n                    refreshState = {this.props.refreshState} \r\n                    projectId = {project.id} \r\n                    employees = {project.employees} \r\n                    allocations = {project.allocationState} \r\n                    isEditing = {false}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n  \t\r\n  }\r\n}\r\nexport { ProjectForm, Project, };"]},"metadata":{},"sourceType":"module"}