(this["webpackJsonpcap-man"]=this["webpackJsonpcap-man"]||[]).push([[0],{15:function(t,e,n){t.exports=n(25)},20:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n(3),s=n(5),i=n(4),o=n(0),l=n.n(o),c=n(11),p=n.n(c),h=(n(20),n(13)),u=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).chartStyle={marginLeft:50,marginRight:50},t}return Object(r.a)(n,[{key:"render",value:function(){return o.createElement("div",{style:this.chartStyle,className:"my-pretty-chart-container"},o.createElement(h.a,{width:"100%",height:this.props.height+"px",chartType:"Gantt",loader:o.createElement("div",null,"Loading Chart"),data:this.props.data,options:{height:this.props.height,gantt:{trackHeight:30,criticalPathEnabled:!1}},rootProps:{"data-testid":"2"}}))}}]),n}(o.Component),d=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(t){return Object(a.a)(this,n),e.call(this,t)}return Object(r.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",{style:{textAlign:"center"}},this.props.title," Breakdown"),l.a.createElement(u,{height:this.props.height,data:[this.props.chartSettings,[1,this.props.title+" BA",null,new Date(this.props.startDate),new Date(this.props.baEndDate),null,(this.props.totalPoints-this.props.baPoints)/this.props.totalPoints*100,null],[2,this.props.title+" QA","Insufficient Resources",new Date(this.props.startDate),new Date(this.props.qaEndDate),null,(this.props.totalPoints-this.props.qaPoints)/this.props.totalPoints*100,null],[3,this.props.title+" Dev","Insufficient Resources",new Date(this.props.startDate),new Date(this.props.devEndDate),null,(this.props.totalPoints-this.props.devPoints)/this.props.totalPoints*100,null]]}))}}]),n}(l.a.Component),m=n(6),g=n.n(m),f=n(7),b=n(10),E=n(1),y=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var t=this;return o.createElement("div",{style:{backgroundColor:"#eeddd3"}},this.props.employees.map((function(e){return["BA","QA","Dev"].map((function(n){if(t.props.allocations.filter((function(a){return a.role===n&&a.employeeId===e.id&&a.projectId===t.props.projectId})).length>0)return o.createElement("div",null,e.name," ",n,t.props.allocations.filter((function(a){return a.role===n&&a.employeeId===e.id&&a.projectId===t.props.projectId})).map((function(e){return o.createElement(v,Object.assign({refreshState:t.props.refreshState,employees:t.props.employees},e))})))}))})))}}]),n}(o.Component),v=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={isEditing:!1},r.deleteAllocation=r.deleteAllocation.bind(Object(E.a)(r)),r.toggleEdit=r.toggleEdit.bind(Object(E.a)(r)),r}return Object(r.a)(n,[{key:"toggleEdit",value:function(){this.setState({isEditing:!this.state.isEditing})}},{key:"deleteAllocation",value:function(){var t=Object(f.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure")){t.next=12;break}return t.prev=1,t.next=4,fetch("https://localhost:44391/api/allocations/"+this.props.id,{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"}});case 4:n=t.sent,console.log("Result "+n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:this.props.refreshState();case 12:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props;return this.state.isEditing?o.createElement("div",null,o.createElement(P,{refreshState:this.props.refreshState,employees:this.props.employees,isEditing:this.state.isEditing,toggleEdit:this.toggleEdit,id:t.id,projectId:t.projectId,employeeId:t.employeeId,role:t.role,startDate:t.startDate,endDate:t.endDate,allocation:t.allocation1,weight:t.workWeight})):o.createElement("div",{style:{backgroundColor:"#eeddd3"}},"Months: ",t.startDate.substring(5,7),"/",t.startDate.substring(0,4)," - ",t.endDate.substring(5,7),"/",t.endDate.substring(0,4)," Allocation: ",t.allocation1,"% Weight: ",t.workWeight,o.createElement("button",{onClick:this.toggleEdit},"Update"),o.createElement("button",{onClick:this.deleteAllocation},o.createElement("img",{src:"https://icon-library.com/images/delete-icon-png-16x16/delete-icon-png-16x16-21.jpg",alt:"my image",width:"12",height:"12"})))}}]),n}(o.Component),j=y,D=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).changeHandler=function(t){r.setState(Object(b.a)({},t.target.name,t.target.value))},r.state={employee:"",role:"BA",startDate:"",endDate:"",allocation:100,weight:"1"},r.postAllocation=r.postAllocation.bind(Object(E.a)(r)),r.putAllocation=r.putAllocation.bind(Object(E.a)(r)),r.fillState=r.fillState.bind(Object(E.a)(r)),r}return Object(r.a)(n,[{key:"postAllocation",value:function(){var t=Object(f.a)(g.a.mark((function t(e){var n,a=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),t.prev=1,0!==this.props.employees.filter((function(t){return t.name===a.state.employee})).length){t.next=14;break}return t.prev=3,t.next=6,fetch("https://localhost:44391/api/employees",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({name:this.state.employee,role:this.state.role})});case 6:n=t.sent,console.log("Result "+n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:this.props.refreshState();case 14:fetch("https://localhost:44391/api/allocations",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({projectId:this.props.projectId,employeeId:this.props.employees.filter((function(t){return t.name===a.state.employee}))[0].id,role:this.state.role,startDate:this.state.startDate,endDate:this.state.endDate,allocation1:this.state.allocation,workWeight:this.state.weight})}).then((function(t){return t.json()})).then((function(t){t.length>0&&alert(t),a.props.refreshState()})),t.next=20;break;case 17:t.prev=17,t.t1=t.catch(1),console.log(t.t1);case 20:this.props.refreshState();case 21:case"end":return t.stop()}}),t,this,[[1,17],[3,10]])})));return function(e){return t.apply(this,arguments)}}()},{key:"putAllocation",value:function(){var t=Object(f.a)(g.a.mark((function t(e){var n=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,fetch("https://localhost:44391/api/allocations/"+this.props.id,{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({id:this.props.id,projectId:this.props.projectId,employeeId:this.props.employees.filter((function(t){return t.name===n.state.employee}))[0].id,role:this.state.role,startDate:this.state.startDate,endDate:this.state.endDate,allocation1:this.state.allocation,workWeight:this.state.weight})}).then((function(t){return t.json()})).then((function(t){t.length>0?alert(t):n.props.toggleEdit(),n.props.refreshState()}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:this.props.refreshState();case 10:case"end":return t.stop()}}),t,this,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()},{key:"fillState",value:function(){var t=this,e=new Date(this.props.startDate),n=JSON.stringify(e);n=n.slice(1,8);var a=new Date(this.props.endDate),r=JSON.stringify(a);r=r.slice(1,8),this.setState({employee:this.props.employees.filter((function(e){return e.id===t.props.employeeId}))[0].name,role:this.props.role,startDate:n,endDate:r,allocation:this.props.allocation,weight:this.props.weight})}},{key:"componentDidMount",value:function(){this.props.isEditing&&this.fillState()}},{key:"render",value:function(){return o.createElement("div",null,o.createElement("form",{onSubmit:this.props.isEditing?this.putAllocation:this.postAllocation,style:{backgroundColor:this.props.isEditing?"#eeddd3":"#d3eedd"}},o.createElement("label",null,"Employee: "),o.createElement("input",{type:"text",list:"employees",name:"employee",autoComplete:"off",value:this.state.employee,onChange:this.changeHandler,required:!0}),o.createElement("datalist",{id:"employees"},this.props.employees.map((function(t){return o.createElement(S,t)}))),o.createElement("label",null," Role: "),o.createElement("select",{type:"text",name:"role",value:this.state.role,onChange:this.changeHandler,required:!0},o.createElement("option",null,"BA"),o.createElement("option",null,"QA"),o.createElement("option",null,"Dev")),o.createElement("label",null," Start Month: "),o.createElement("input",{type:"month",min:"2020-07",name:"startDate",value:this.state.startDate,onChange:this.changeHandler,required:!0,style:{width:"145px"}}),o.createElement("label",null," End Month: "),o.createElement("input",{type:"month",min:"2020-07",name:"endDate",value:this.state.endDate,onChange:this.changeHandler,style:{width:"145px"}}),o.createElement("label",null," Allocation: "),o.createElement("input",{type:"number",min:"0",max:"100",step:"0.01",name:"allocation",value:this.state.allocation,onChange:this.changeHandler,required:!0}),o.createElement("label",null," Weight: "),o.createElement("select",{type:"text",name:"weight",value:this.state.weight,onChange:this.changeHandler},o.createElement("option",null,".25"),o.createElement("option",null,".50"),o.createElement("option",null,".75"),o.createElement("option",null,"1")),this.props.isEditing?o.createElement("span",null,o.createElement("button",{onClick:this.props.toggleEdit},"Cancel"),o.createElement("button",{type:"submit"},"Confirm")):o.createElement("button",{type:"submit"},"Add Allocation")))}}]),n}(o.Component),S=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var t=this.props;return o.createElement("option",null,t.name)}}]),n}(o.Component),P=D,w=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).changeHandler=function(t){r.setState(Object(b.a)({},t.target.name,t.target.value))},r.state={id:"",title:"",startDate:"",endDate:"",totalPoints:"",baPoints:"",qaPoints:"",devPoints:"",isShowing:""},r.formStyle={backgroundColor:"#d3e4ee",marginLeft:100,marginRight:100},r.postProject=r.postProject.bind(Object(E.a)(r)),r.putProject=r.putProject.bind(Object(E.a)(r)),r.fillState=r.fillState.bind(Object(E.a)(r)),r}return Object(r.a)(n,[{key:"postProject",value:function(){var t=Object(f.a)(g.a.mark((function t(e){var n=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();try{fetch("https://localhost:44391/api/projects",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({title:this.state.title,startDate:this.state.startDate,endDate:this.state.endDate,totalPoints:this.state.totalPoints,baPoints:this.state.baPoints,qaPoints:this.state.qaPoints,devPoints:this.state.devPoints,isShowing:!1})}).then((function(t){return t.json()})).then((function(t){t.length>0&&alert(t),n.props.refreshState()}))}catch(a){console.log(a)}case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"putProject",value:function(){var t=Object(f.a)(g.a.mark((function t(e){var n=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,fetch("https://localhost:44391/api/Projects/"+this.props.projectId,{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(this.state)}).then((function(t){return t.json()})).then((function(t){t.length>0?alert(t):n.props.toggleEdit(),n.props.refreshState()}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:this.props.refreshState();case 10:case"end":return t.stop()}}),t,this,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()},{key:"fillState",value:function(){var t=JSON.stringify(new Date(this.props.startDate)).slice(1,11),e=null;null!=this.props.endDate&&(e=JSON.stringify(new Date(this.props.endDate)).slice(1,11)),this.setState({id:this.props.projectId,title:this.props.title,startDate:t,endDate:e,totalPoints:this.props.totalPoints,baPoints:this.props.baPoints,qaPoints:this.props.qaPoints,devPoints:this.props.devPoints,isShowing:this.props.isShowing})}},{key:"componentDidMount",value:function(){this.props.isEditing&&this.fillState()}},{key:"render",value:function(){return o.createElement("div",null,o.createElement("form",{onSubmit:this.props.isEditing?this.putProject:this.postProject,style:this.formStyle},o.createElement("label",null,"Project Title: "),o.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.changeHandler,required:!0,autoComplete:"off"}),o.createElement("label",null," Start Date: "),o.createElement("input",{type:"date",name:"startDate",value:this.state.startDate,onChange:this.changeHandler,required:!0}),o.createElement("label",null," End Date: "),o.createElement("input",{type:"date",name:"endDate",value:this.state.endDate,onChange:this.changeHandler}),o.createElement("label",null,"Total Points: "),o.createElement("input",{type:"number",name:"totalPoints",value:this.state.totalPoints,onChange:this.changeHandler,required:!0}),o.createElement("br",null),o.createElement("label",null,"BA Points: "),o.createElement("input",{type:"number",name:"baPoints",value:this.state.baPoints,onChange:this.changeHandler,required:!0}),o.createElement("label",null," QA Points: "),o.createElement("input",{type:"number",name:"qaPoints",value:this.state.qaPoints,onChange:this.changeHandler,required:!0}),o.createElement("label",null," Developer Points: "),o.createElement("input",{type:"number",name:"devPoints",value:this.state.devPoints,onChange:this.changeHandler,required:!0}),this.props.isEditing?o.createElement("span",null,o.createElement("button",{onClick:this.props.toggleEdit},"Cancel"),o.createElement("button",{type:"submit"},"Confirm")):o.createElement("button",{type:"submit"},"Add Project")))}}]),n}(o.Component),O=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={isEditing:!1},r.deleteProject=r.deleteProject.bind(Object(E.a)(r)),r.toggleEdit=r.toggleEdit.bind(Object(E.a)(r)),r.toggleShowing=r.toggleShowing.bind(Object(E.a)(r)),r}return Object(r.a)(n,[{key:"toggleEdit",value:function(){this.setState({isEditing:!this.state.isEditing})}},{key:"deleteProject",value:function(){var t=Object(f.a)(g.a.mark((function t(e){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure")){t.next=12;break}return t.prev=1,t.next=4,fetch("https://localhost:44391/api/projects/"+this.props.id,{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"}});case 4:n=t.sent,console.log("Result "+n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:this.props.refreshState();case 12:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"toggleShowing",value:function(){try{var t=fetch("https://localhost:44391/api/projects/"+this.props.id,{method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({id:this.props.id,isShowing:!this.props.isShowing})});console.log("Result "+t)}catch(e){console.log(e)}this.props.refreshState()}},{key:"render",value:function(){var t=this.props;return this.state.isEditing?o.createElement("div",null,o.createElement(w,{refreshState:this.props.refreshState,isEditing:this.state.isEditing,toggleEdit:this.toggleEdit,projectId:this.props.id,title:this.props.title,startDate:this.props.startDate,endDate:this.props.endDate,totalPoints:this.props.totalPoints,baPoints:this.props.baPoints,qaPoints:this.props.qaPoints,devPoints:this.props.devPoints,isShowing:this.props.isShowing}),o.createElement(j,{refreshState:this.props.refreshState,projectId:this.props.id,employees:this.props.employees,allocations:this.props.allocations}),o.createElement(P,{refreshState:this.props.refreshState,projectId:t.id,employees:t.employees,allocations:t.allocationState})):o.createElement("div",null,o.createElement("div",{style:{backgroundColor:"#ddd3ee"}},"Project: ",t.title," Start Date: ",t.startDate.substring(5,7),"/",t.startDate.substring(8,10),"/",t.startDate.substring(0,4)," ",null===t.endDate?o.createElement("span",null):o.createElement("span",null,"End Date: ",t.endDate.substring(5,7),"/",t.endDate.substring(8,10),"/",t.endDate.substring(0,4)," ")," Total Points: ",t.totalPoints," BA Points: ",t.baPoints," QA Points: ",t.qaPoints," Dev Points: ",t.devPoints,o.createElement("button",{onClick:this.toggleEdit},"Update"),o.createElement("button",{onClick:this.deleteProject},o.createElement("img",{src:"https://icon-library.com/images/delete-icon-png-16x16/delete-icon-png-16x16-21.jpg",alt:"my image",width:"12",height:"12"}))),o.createElement(j,{refreshState:this.props.refreshState,projectId:this.props.id,employees:this.props.employees,allocations:this.props.allocations,addAllocation:this.props.addAllocation}),o.createElement(P,{refreshState:this.props.refreshState,projectId:t.id,employees:t.employees,allocations:t.allocationState,isEditing:!1}))}}]),n}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=n(8);n(24);function C(t){return l.a.createElement("table",{rules:"all",style:{border:"2px solid black",backgroundColor:"#d3e4ee",marginLeft:"auto",marginRight:"auto",borderRadius:10,borderWidth:1,borderColor:"#fff"}},l.a.createElement("tr",null,l.a.createElement("th",{width:"20"},"Weight"),l.a.createElement("th",{width:"30"},"Description"),l.a.createElement("th",{width:"50"}," BA Hours per point"),l.a.createElement("th",{width:"50"}," QA Hours per point"),l.a.createElement("th",{width:"50"}," Dev Hours per point")),l.a.createElement("tr",null,l.a.createElement("td",null,".25"),l.a.createElement("td",null,"Lead, not much direct work"),l.a.createElement("td",null,"63"),l.a.createElement("td",null,"63"),l.a.createElement("td",null,"63")),l.a.createElement("tr",null,l.a.createElement("td",null,".50"),l.a.createElement("td",null,"New Employee"),l.a.createElement("td",null,"28"),l.a.createElement("td",null,"38"),l.a.createElement("td",null,"33")),l.a.createElement("tr",null,l.a.createElement("td",null,".75"),l.a.createElement("td",null,"Progressing towards full capacity or also mentoring junior members"),l.a.createElement("td",null,"13"),l.a.createElement("td",null,"19"),l.a.createElement("td",null,"17")),l.a.createElement("tr",null,l.a.createElement("td",null,"1"),l.a.createElement("td",null,"Full capactiy"),l.a.createElement("td",null,"6"),l.a.createElement("td",null,"11"),l.a.createElement("td",null,"9")))}var A=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).refreshState=function(){fetch("https://localhost:44391/api/projects").then((function(t){return t.json()})).then((function(t){var e=[r.state.chartData[0]];t.map((function(t){return e.push([t.id,t.title,t.endDate&&new Date(t.calcEndDate)>new Date(t.endDate)?"Insufficient Resources":null,new Date(t.startDate),new Date(t.calcEndDate),null,(t.totalPoints-t.baPoints+(t.totalPoints-t.qaPoints)+(t.totalPoints-t.devPoints))/3*100/t.totalPoints,null])})),r.setState({projects:t,chartData:e,height:120+30*t.length})})),r.setState({empty:1===r.state.projects.length}),fetch("https://localhost:44391/api/employees").then((function(t){return t.json()})).then((function(t){r.setState({employees:t})})),fetch("https://localhost:44391/api/allocations").then((function(t){return t.json()})).then((function(t){r.setState({allocations:t})}))},r.state={chartData:[[{type:"string",label:"Task ID"},{type:"string",label:"Task Name"},{type:"string",label:"Resource"},{type:"date",label:"Start Date"},{type:"date",label:"End Date"},{type:"number",label:"Duration"},{type:"number",label:"Percent Complete"},{type:"string",label:"Dependencies"}]],projects:[],allocations:[],employees:[],height:0},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.refreshState()}},{key:"render",value:function(){var t=this;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h1",{style:{textAlign:"center"}},this.props.title)),0===this.state.projects.length?l.a.createElement("div",null):l.a.createElement(u,{height:this.state.height,data:this.state.chartData,refreshState:this.refreshState}),l.a.createElement(w,{height:this.state.height,isEditing:!1,allocations:this.state.allocations,employees:this.state.employees,projects:this.state.projects,refreshState:this.refreshState}),l.a.createElement(C,null),l.a.createElement(k.d,{deafultIndex:0},l.a.createElement(k.b,null,l.a.createElement(k.a,null,"Employees"),this.state.projects.map((function(t){return l.a.createElement(k.a,null,t.title)}))),l.a.createElement(k.c,null,this.state.employees.map((function(t){return l.a.createElement("div",null,t.name,l.a.createElement("br",null))}))),this.state.projects.map((function(e){return l.a.createElement(k.c,null,l.a.createElement("div",null,l.a.createElement(O,Object.assign({refreshState:t.refreshState,employees:t.state.employees,allocationState:t.state.allocations},e)),l.a.createElement(d,Object.assign({height:150,chartSettings:[{type:"string",label:"Task ID"},{type:"string",label:"Task Name"},{type:"string",label:"Resource"},{type:"date",label:"Start Date"},{type:"date",label:"End Date"},{type:"number",label:"Duration"},{type:"number",label:"Percent Complete"},{type:"string",label:"Dependencies"}]},e))))}))))}}]),n}(l.a.Component);p.a.render(l.a.createElement(A,{title:"Webteam Capacity Management"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.8909ee24.chunk.js.map